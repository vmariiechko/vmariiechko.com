{%- set posts = pagination.items -%}
<ul class="space-y-6">
{%- for post in posts -%}
  <li class="pb-6">
    <h2 class="text-2xl font-bold mb-2">
      <a href="{{ post.url }}" class="nav-link">{{ post.data.title }}</a>
    </h2>
    <div class="flex items-center justify-between flex-wrap gap-x-4 gap-y-2 mb-2">
      <div class="flex items-center gap-3 text-sm text-muted">
        <span class="flex items-center gap-1.5">
          <span aria-hidden="true">{% phicon "calendar", weight="regular", size=16 %}</span>
          <time datetime="{{ post.date | htmlDateString }}">{{ post.date | readableDate }}</time>
        </span>
        <span class="flex items-center gap-1.5">
          <span aria-hidden="true">{% phicon "clock", weight="regular", size=16 %}</span>
          <span>{{ post | readingTime }}</span>
        </span>
      </div>
      {%- if post.data.topics or post.data.tags -%}
      <div class="flex items-center gap-2 flex-wrap">
        {%- set tagCount = 0 -%}
        {%- if post.data.topics -%}
          {%- for topic in post.data.topics | limit(3) -%}
            <span class="tag-chip-sm">{{ topic }}</span>
            {%- set tagCount = tagCount + 1 -%}
          {%- endfor -%}
        {%- endif -%}
        {%- if tagCount < 3 and post.data.tags -%}
          {%- for tag in post.data.tags -%}
            {%- if tag != "Post" and tagCount < 3 -%}
              <span class="tag-chip-sm">{{ tag }}</span>
              {%- set tagCount = tagCount + 1 -%}
            {%- endif -%}
          {%- endfor -%}
        {%- endif -%}
      </div>
      {%- endif -%}
    </div>
    {%- if post.data.description -%}
    <p class="text-muted">{{ post.data.description }}</p>
    {%- endif -%}
  </li>
{%- endfor -%}
</ul>